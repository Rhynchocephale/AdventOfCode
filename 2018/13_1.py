data = """                                                                                                   /--------------------\\                             
                                 /-------------------------------------------\\                     |                    |       /-------------------\\ 
                                 |                   /----------\\    /-------+---------------------+-\\                  |       |                   | 
/--------------------------------+-------------------+----------+----+-------+-------\\             | |                  |       |                   | 
|                                |                   |    /-----+----+-------+-------+-------------+-+------------------+-------+------------\\      | 
|                          /-----+-------------------+----+-----+----+-------+-------+-------------+-+--\\               |       |            |      | 
|          /---------------+-----+-------------------+----+-----+----+-------+-------+-------------+-+--+\\              |       |            |      | 
|          |               |     |                   |    |     |    |       |  /----+-------------+-+--++--------------+-------+------------+-\\    | 
|          |               |     |                   |    |     |    |       |  |    |             | |  ||              |       |            | |    | 
|          |               |     |              /----+----+-----+----+-------+--+----+----------<\\ | |  ||              |       |            | |    | 
|      /---+---------------+-----+--------------+----+----+-----+----+-------+--+----+-----------+-+-+--++--\\           |       |            | |    | 
| /----+---+---------------+-----+--------------+----+----+-----+--<-+-------+--+\\   |       /---+-+-+--++--+-----------+-------+----\\       | |    | 
| |    |   |               |     |              |    |    |     |    |       |  ||   |       |   | | |  ||  |           |       |    |       | |    | 
| |    |   |               |     |              |    |    |     |    |     /-+--++---+-----\\ |   | | |  ||  |           |       |    |       | |    | 
| |    |   |               |     |              |    |    |     |    |     | |  ||   |     | |   | | |  ||  |           |/------+----+-------+-+---\\| 
| |    |  /+---------------+-----+--------------+--\\ |    |     |/---+-----+-+-\\||   |     | |   | | |  ||  |           ||      |    |       | |   || 
| |  /-+--++---------------+-----+--------------+--+-+----+-----++---+-----+-+-+++---+---\\ | |   | \\-+--++--+-----------/|      |    |       | |   || 
| |  | |  ||     /---------+-----+-\\      /-----+--+-+-\\  |     ||   \\-----+-+-+++---+---+-+-+---+---/  ||  |     /------+------+----+-------+\\|   || 
| |  | |  ||     |         |     | |    /-+-----+--+-+-+--+-----++---------+-+-+++---+---+-+-+---+------++--+-----+------+-\\    |    |       |||   || 
| |  | |  ||     |         |     | |    | |     |  | | |/-+-----++-------\\ | | |||   |   | | |   |      ||  |     |      | |    |    |       |||   || 
| |  | |  ||     |         \\-----+-+----+-+-----+--+-+-++-+-----++-------+-+-+-+++---+---+-+-+---+------/|  |     |      | |  /-+----+-----\\ |||   || 
| |  | |  ||     |               | |    | |     |/-+-+-++-+-----++-------+-+-+-+++---+---+-+-+---+-----\\ |  |/----+------+-+\\ | |    |     | |||   || 
| |  | |  ||     |               | |    | |     || | | || |     ||       | | | |||   |   | | |   |     | |/-++----+------+-++-+-+----+-----+-+++--\\|| 
| |  | |  ||     |               | |    | |     || | | || |     ||       | | | |||   |   | | |   |     | || ||    |      | || | |    |     | |||  ||| 
| |  | |  ||     |         /-----+-+----+\\|     || | |/++-+----\\||       | | | |||   |   | | |   |     | || ||    |      | || | |    |     | |||  ||| 
| |  | |/-++-----+---------+----\\| |/---+++-----++-+-++++-+----+++-------+-+-+-+++---+---+-+-+---+-----+-++-++----+------+-++-+\\|    |     | |||  ||| 
| |  | || ||     |         |    || ||   |||     || | |||| |    |||       | | | |||   |   | | \\---+-----+-++-++----+------+-++-+++----/     | |||  ||| 
| |  | || ||     |         |    || ||   |||  /--++-+-++++-+----+++-------+-+-+\\|||   |   | |     |     | || ||    |      | || |||          | |||  ||| 
| |  | || ||     |         |    || ||   |||  |  || | ||||/+----+++-------+-+-+++++---+---+-+-----+-----+-++-++----+------+-++-+++-\\        | |||  ||| 
| |  | || ||     |         |    || ||   ||| /+--++-+-++++++----+++-------+-+-+++++---+---+-+-----+-----+-++-++----+------+-++-+++-+---\\    | |||  ||| 
| |  | || ||     |         |    || ||   ||| ||  || | ||||||    |||       | | |||||   |   | |  /--+-----+-++-++----+------+-++-+++-+---+-\\  | |||  ||| 
| |  | || ||     |         |    || ||   ||\\-++--++-+-++/|||    |||       | | |||||  /+---+-+--+--+-----+-++-++----+------+-++-+++-+---+-+--+\\|||  ||| 
| | /+-++-++-----+\\        |    || ||   ||  ||  || | || |||    |||       | \\-+++++--++---+-/  |  |     | || ||    |      | || ||| |   | |  |||||  ||| 
| | || || ||     ||        |    || ||   ||  ||  || | || |||    |||   /---+---+++++--++---+\\   |  |     | || ||    |      | || ||| |   | |  |||||  ||| 
| | || || ||     ||        |    || ||   \\+--++--++-+-++-+++----+++---+---+---+++++--++---++---+--+-----+-++-++----+------+-/| ||| |   | |  |||||  ||| 
| | || || ||     || /------+----++\\||    |  ||  || | || |||    |||   |   |   |||||  ||   ||   |  |   /-+-++-++----+------+--+\\||| |   | |  |||||  ||| 
| | || || || /---++-+------+----+++++----+--++--++-+-++-+++----+++---+---+---+++++--++---++---+--+---+-+-++-++---\\|      |  ||||| |   | |  |||||  ||| 
| | || || || |   || |      \\----+++++----/  ||  || | ||/+++----+++---+---+---+++++--++---++---+--+---+-+-++-++--\\||      |  ||||| |   | |  |||||  ||| 
| | || || || |/--++-+-----------+++++-------++--++-+-++++++----+++---+---+---+++++--++---++---+--+-\\ | | || ||  |||      |  ||||| |   | |  |||||  ||| 
| | || || || ||  || |           |||||/------++--++-+-++++++----+++---+---+---+++++--++---++---+--+-+-+-+-++-++--+++------+--+++++-+---+\\|  |||||  ||| 
| | || || || ||  || |           ||||||  /---++--++-+-++++++----+++---+---+---+++++--++---++---+--+-+-+-+-++-++\\ |||      |  ||||| |   |||  |||||  ||| 
| | ||/++-++-++--++-+-\\         ||||||/-+---++--++-+-++++++----+++---+---+---+++++--++---++---+--+-+-+-+-++-+++-+++------+--+++++\\|   |||  |||||  ||| 
| | ||||| || ||  || |/+---------+++++++-+-\\ ||  || | ||||||  /-+++---+---+---+++++--++---++---+--+-+-+-+-++-+++-+++\\     |  |||||||   |||  |||||  ||| 
| | |\\+++-++-++--++-+++---------+++++++-+-+-++--++-+-++++++--+-+++---+---+---+++++--++---/|   |  | | | | || ||| ||||     |  |||||||   |||  |||||  ||| 
| | | ||| || ||  || |||         ||||||| | | ||  \\+-+-++++++--+-+++---+---+---+++++--++----+---+--/ | | | || |\\+-++++-----+--/||||||   |||  |||||  ||| 
| | | ||| || || /++-+++---------+++++++-+-+-++---+-+-++++++--+-+++---+---+---+++++--++----+---+--\\ | | | || | | ||||     |   |||\\++---+++--+++++--++/ 
| | | ||| \\+-++-+++-+++---------+++++++-+-+-++---+-/ ||\\+++--+-+++---+---+---+++++--++----+>--+--+-+-+-+-++-+-+-/|||     |   ||| ||   |||  |||||  ||  
| | | |||  | \\+-+++-+++---------+++++++-+-+-++---+---++-+++--+-+++---+---+---+++++--++----+---+--+-+-+-+-++-+-+--/||     |   ||| ||   |||  |||||  ||  
| | | |||  |  | ||| |||         ||||||| | | ||   |   || |||  | |||   |   |   |||||  ||    |/--+--+-+-+-+-++-+-+---++-----+---+++-++---+++--+++++--++-\\
| | | |||  |  | ||| |||         ||||||| | | ||   |   || |||  | |||   |   |/--+++++--++----++--+--+-+-+-+-++-+-+---++-----+---+++-++---+++-\\|||||  || |
| | | |||  |  | ||| |||         ||||||| | | ||   |   || |||  | |||   | /-++--+++++--++----++--+--+-+-+-+-++-+-+---++---\\ |   ||| ||   ||| ||||||  || |
| | | |||  |  | ||| |||         ||||||| | | ||   |  /++-+++--+-+++---+-+-++--+++++--++---\\||  |  | |/+-+-++-+-+---++---+-+---+++-++---+++-++++++--++\\|
| | | |||  |  | ||| |||         ||||||| | | ||   |  ||| |||  | |||   | | ||  |||||  ||   |||  |  | ||| | || | |   ||   | |   ||| ||   ||| ||||||  ||||
| | | |||  |  | ||| |||         ||||||| | | ||   |  ||| |||  | |||   | | ||  |||||  ||  /+++--+--+-+++-+-++-+-+---++---+-+---+++-++---+++\\||||||  ||||
| | | \\++--+--+-+++-++/         ||||||| | | ||/--+--+++-+++--+-+++---+-+-++--+++++--++--++++--+--+-+++-+-++-+-+---++---+-+---+++-++\\  ||||||||||  ||||
| | |  ||  |  | ||| ||          ||||||| | | |||  |  |\\+-+++--+-+/|   | | ||  |||||  ||  ||||/-+--+-+++-+-++-+-+---++---+\\|   ||| |||  ||||||||||  ||||
| | |  ||  |  | \\++-++----------+++++++-+-+-+++--+--+-+-+++--+-+-+---+-+-++--+++++--++--+++++-+--/ ||| | || | |   ||   |||   ||| |||  ||||||||||  ||||
| | |  ||  |  |  ||/++----------+++++++-+-+-+++--+--+-+-+++--+-+-+---+-+-++--+++++--++-\\||||| |    ||| | || | |   ||/--+++---+++-+++--++++++++++-\\||||
| | |  ||  |  |  |||||  /-------+++++++-+-+-+++--+--+-+-+++--+-+-+---+-+\\||  |||||  || |||||| |    ||| | || | |   |||  |||   ||| |||  |||||||||| |||||
| | |  ||  |  |  |||||  |       ||||||| | | |||  |  | | |||  | | |   | ||||  |||||  || |||||| |    ||| | || | |/--+++--+++-\\ ||| |||  |||||||||| |||||
| |/+--++--+--+--+++++--+---\\   |||||||/+-+-+++--+--+-+-+++-\\^ | |   | ||||  |||||  || |||||| |    ||| | || | ||  |||  ||| | ||| |||  |||||||||| |||||
| |||  ||  |/-+--+++++--+---+---+++++++++-+-+++--+--+-+-+++-++-+-+---+-++++--+++++--++-++++++-+----+++-+-++-+-++--+++\\ ||| | ||| |||  |||||||||| |||||
| ||\\--++--++-+--+/|||  |   | /-+++++++++-+-+++--+--+\\|/+++-++-+-+---+-++++--+++++--++-++++++-+----+++-+-++-+-++--++++-+++-+-+++-+++--++++++++++\\|||||
| ||   ||  \\+-+--+-+++--+---+-+-+++++++++-+-+++--+--+++++++-++-+-+---+-++++--+++++--++-++++++-+----+++-+-/| | ||  |||| ||| | ||| |||  ||||||||||||||||
| ||   ||   | |  | |||  |   | | |||||||||/+-+++--+\\ ||||||| || | |   | |||\\--+++++--++-++++++-+----+++-+--+-+-++--++++-+++-+-+++-+++--++++/|||||||||||
| ||   ||   | |  | |||  |   | | ||||||||||| |||  || ||||||| || | |   |/+++---+++++--++-++++++-+----+++-+--+-+\\||  |||| ||| | ||| |||  |||| |||||||||||
| ||/--++---+-+--+-+++--+--\\| | ||||||||||| |||  || ||||||| || | |   \\++++---+++++--++-+++/|| |    ||| |  | ||||  |||| ||| | ||| |||  |||| |||||||||||
| |||  ||   | |  | |||  | /++-+-+++++++++++-+++--++-+++++++-++-+-+----++++---+++++--++-+++-++-+----+++-+\\ | ||||  |||| ||| | ||| |||  |||| |||||||||||
| |||  ||   | |  | |||  | ||| | ||||||||||| |||  || ||||||| || | |    ||||   |||||  || ||| || |/---+++-++-+-++++--++++-+++-+-+++-+++\\ |||| |||||||||||
| ||v  ||   | |  | |||  | ||| |/+++++++++++-+++--++-+++++++-++-+-+----++++---+++++--++-+++-++-++---+++-++-+-++++\\ |||| ||| | ||| |||| |||| |||||||||||
| |||/-++---+>+--+-+++--+-+++-+++++++++++++-+++--++-+++++++-++-+-+----++++---+++++--++-+++-++-++\\  ||| || | ||||| |||| ||| | ||| |||| |||| |||||||||||
| |||| ||   | |  | |||  | ||| ||||||||||||| |v|  || ||||||| || | | /--++++---+++++--++-+++-++-+++--+++-++-+\\||||| |v|| ||| | ||| |||| |||| |||||||||||
| |||| ||   | |  | |||  | ||| ||||||||||||| |||  || ||||||| || | | |  ||||   |||||  || ||| || |||  ||| || ||||||| |||| ||| | ||| |||| |||| |||||||||||
| |||| ||   | |  | ||\\--+-+++-++++++++++++/ |||  || ||||||| || | | |  ||||   |||||  || ||| || |||  ||| || ||||||| |||| ||| | ||| |||| |||| |||||||||||
| |||| ||   | |  | ||   | ||| ||||||||||||  |||  || ||||||| || | | |  ||||   |||||  || ||| || |||  ||| || ||||||| |||| ||| | ||| |||| |||| |||||||||||
| |||| ||   | |  | |\\---+-+++-++++/|||||||  |||  || ||||||| || | | |  ||||   |||||  || ||| || |||  ||| || ||||||| |||| ||| | ||| |||| |||| |||||||||||
| |||| || /-+-+--+-+----+-+++\\|||| |||||||  |||  || ||||||\\-++-+-+-+--++++---+++++--++-+++-++-+++--+++-++-+++++++-++++-+++-+-+++-++++-++++-++/||||||||
| |||| || | | |  | |    | |||||||\\-+++++++--+++--++-++++++--++-+-+-+--++++---/||||  || ||| || |||  ||| || ||||||| |||| ||| | ||| |||| |||| || ||||||||
| |||| || | | |  | | /--+-+++++++\\ |||||||  |||  || ||||||  || | | |  ||||    ||||  || ||| || |||  ||| || ||||||| |||| ||| | ||| |||| |||| || ||||||||
| |||| || | | |  | | |  | |||||||| |||||||  ||\\--++-++++++--++-+-+-+--++++----++++--++-+++-++-+++--+++-++-+++++++-++++-+++-+-+++-++/| |||| || ||||||||
\\-++++-++-+-+-+--+-+-+--+-++++++++-+++++++--++---++-++++++--++-+-+-+--++++----++++--+/ ||| || |||  ||| || \\++++++-++++-+++-+-+++-++-+-++++-++-++++/|||
  |||| || | | |  | | |  | |||||||| |\\+++++--++---++-++++++--++-+-+-+--++++----++++--+--+++-++-+++--+++-++--++++++-++++-+++-+-++/ || | |||| || |||| |||
  |||| \\+-+-+-+--+-+-+--+-++++++++-+-+++++--++---++-++++++--++-+-+-+--++++----++++--+--+++-++-+++--+++-++--+/|||| |||| ||| | ||  || | |||| || |||| |||
  ||||  | | | |  | | |  | \\+++++++-+-+++++--++---++-++++++--++-+-+-+--++++----++++--+--+++-++-+++--+++-+/  | |||| |||| ||| | ||  || | |||| || |||| |||
  ||||  | | | |  | | |  |  ||||||| | |||||  ||   ||/++++++--++-+-+-+--++++----++++--+--+++\\|| |||  ||\\-+---+-++++-++++-+++-+-/|  || | |||| || |||| |||
  ||||  | | | |  | |/+--+--+++++++-+\\|||||  ||   |||||||||  || | | |  |||| /--++++--+--++++++-+++--++--+-\\ | |||| |||| ||\\-+--+--++-+-++++-++-++++-/||
  ||\\+--+-+-+-+--+-+++--+--/|||||| |||||||  ||   |||||||||  || | | |  |||| |  ||||  \\--++++++-+++--++--+-+-+-++++-++++-++--+--+--++-+-++++-+/ ||||  ||
  || |  | | | |  | |||  |   |||||| |||||||  ||   |||||||||  || | | |  |||| |  ||||     |||||| \\++--++--+-+-+-++++-++++-++--+--+--++-+-++/| |  ||||  ||
  || |  | | | |  | |||  |   |||||| |||||||  ||   ||||||\\++--++-+-+-+--++++-+--++++-----++++++--++--++--+-+-+-++++-++++-++--+--+--++-+-++-+-+--++/|  ||
  || |  | | | |  | |||  | /-++++++-+++++++--++---++++++-++--++-+-+-+--++++-+--++++-----++++++--++--++--+-+-+-++++-++++-++--+--+--++-+\\|| | |  || |  ||
  || |  | | | |  | |||  | | |||||| |||||||  ||   |||||| ||  || | | |  |||| |  ||||  /--++++++--++--++--+-+-+-++++-++++-++-\\|  |  || |||| | |  || |  ||
  || |  | | | |  | |||  | | |||||| ||||||\\--++---+/|^|| ||  || | | |  |||| |  ||||  |  ||||||  ||  ||  | | | |||| |||| || ||  |  || |||| | |  || |  ||
  ||/+--+-+-+-+--+-+++--+\\| |||||| ||||||   ||   | |||| ||  ||/+-+-+--++++-+--++++\\ |  ||||||  ||  ||  | | | |||| |||| || ||  |  || |||| | |  || |  ||
  ||||  | | | |  | |||  ||| |||||| ||||||   || /-+-++++-++--++++-+-+--++++-+--+++++-+--++++++--++--++--+-+-+-++++-++++-++-++--+--++\\|||| | |  || |  ||
  \\+++--+-+-+-+--+-+++--+++-++++++-++++++---++-+-+-++++-++--++++-+-+--++++-+--+++/| |  ||||||  ||  ||  | | | |||| |||| || ||  |  ||||||| | |  || |  ||
   |||  | | | |/-+-+++--+++-++++++-++++++---++-+-+-++++-++--++++-+-+--++++-+--+++-+-+--++++++--++--++-\\| | | |||| |||| || ||  |  ||||||| | |  || |  ||
   |||/-+-+-+-++-+-+++--+++\\|||||| ||||||   || | | |||| ||  |||| | |  |||| |  ||| | |  ||||||  ||  || || | | |||| |||| || ||  |  ||||||| | |  || |  ||
   |||| | | | || | |||  |||||||||| ||||||   || | | |||| ||  |||| | |  |||| |  ||\\-+-+--++++++--++--++-++-+-+-++++-++++-++-++--+--+++++++-+-+--+/ |  ||
   |||| |/+-+-++-+-+++--++++++++++-++++++---++-+-+-++++-++--++++-+-+--++++-+--++--+-+->++++++--++--++-++\\| | |||| |||| || ||  |  ||||||| | |  |  |  ||
   |||| ||| | || | |||  |||||||||| ||||||   || | | |||| ||  |||| | |  |||| |  ||  | | /++++++--++--++-++++-+-++++-++++-++-++--+--+++++++-+-+--+--+\\ ||
   |||| ||| | || | |||  |||||||\\++-++++++---++-+-+-++++-++--++++-+-+--++++-+--++--+-+-+++++++--++--++-++++-+-+++/ |||| || ||  |  ||||||| | |  |  || ||
   |\\++-+++-+-++-+-+++--+/||||| || ||||||   || | | \\+++-++--++++-+-+--++++-+--++--+-+-++++/||  ||  || |||| | |||  |||| || ||  |  ||||||| | |  |  || ||
   | || ||| | || | |||  | ||||| || ||||||   || | |  ||| ||  |||| | |  \\+++-+--++--+-+-++++-++--++--++-++++-+-/||  |||| || ||  |  ||||||| | |  |  || ||
   | || ||| | || | ||\\--+-+++++-+/ ||||||   || | |  ||| |\\--++++-+-+---+++-+--++--+-+-++++-++--++--++-++++-+--++--++++-++-++--+--+/||||| | |  |  || ||
   | \\+-+++-+-++-+-++---+-+++++-+--++++++---++-+-+--+++-+---++++-+-+---+++-+>-++--+-+-++++-++--+/  || |||| |  ||  |||| || ||  |  | ||||| | |  |  || ||
   |  | ||| | || \\-++---+-+++++-+--/|||||   || | |  ||| |   |||| | \\---+++-+--++--+-+-++++-++--+---++-++++-/  ||  |||| || ||  |  | ||||| | |  |  || ||
   |  | ||| | ||   ||   | ||||| |   |||||   || | |  \\++-+---++++-+-----+++-+--++--+-+-+++/ ||  |   || ||||    ||  \\+++-++-++--+--+-+++++-+-+--/  || ||
   |  | ||| | ||  /++---+-+++++-+---+++++---++\\| | /-++-+---++++-+-----+++-+--++--+-+-+++--++--+---++-++++----++---+++-++-++--+--+-+++++-+-+-----++\\||
   |  |/+++-+-++--+++---+-+++++-+---+++++--\\\\+++-+-+-++-+---++++-+-----+++-+--++--+-+-+++--++--+---++-++++----++---+++-++-++--+--+-+++/| | |     |||||
   |  ||\\++-+-++--+++---+-+++++-/   |||||  | ||| | | || |   |||| |     ||| |  ||  | | |||  ||  |   || ||||    ||   |||/++-++--+--+-+++-+-+-+---\\ |||||
   |  || || | ||  |||   | |||||     ||||\\--+-+++-+-+-++-+---++++-+-----+++-+--++--+-+-+++--++--+---++-++++----/|   ||||||/++--+--+-+++-+-+-+-\\ | |||||
   |  || || | ||  |||   | |||||     ||||   | ||| | | v| |   |||| |     ||| |  ||  | | |||  ||  |   |\\-++++-----+---+++++++++--+--+-+++-+-+-+-+-+-+++/|
   |  || || |/++--+++---+-+++++-----++++---+-+++-+-+-++-+--\\|||| |   /-+++-+--++--+-+-+++--++--+---+--++++--\\  |   |||||||||  |  | ||| | | | | | ||| |
   |  || || ||||  |||   | |||||     ||||   | ||| | | || |  ||||| \\---+-+++-+--+/  | | |||  ||  |   |  ||||  |  |   |||||||||  |  | ||| | | | | | ||| |
   |  || || ||||  |||   | |||||     ||||   | ||| | | || |  |||||   /-+-+++-+--+---+-+-+++--++--+---+--++++\\ |  |   |||||||||  |  | ||| | | | | | ||| |
   |  || || ||||  |||   \\-+++++-----++++---+-+++-+-+-++-+--+++++---+-+-+/| |  |   | \\-+++--++--+---+--+++++-+--+---+++++++/|  |  | ||| | | | | | ||| |
   |  || || ||||  |||     \\++++-----++++---+-+++-+-+-++-+--+++++---+-+-+-+-+--+---+---+++--++--+---+--+++++-+--+---+++++++-+--+--+-++/ | | | | | ||| |
   |  || || ||||  |||      ||||     ||||   | ||| | \\-++-+--+++++---+-+-+-+-+--+---+---+++--++--+---+--+++++-+--+---+++++++-+--+--+-++--+-+-+-+-+-++/ |
   |  || || ||||  |\\+------++++-----++++---+-+++-+---++-+--+++++---+-+-+-+-+--+---+---+/|  ||  |   |  ||||| |  |   ||||||| |  |  | ||  | | | | | ||  |
   |  || || ||||  | |      ||||     ||||   | ||| |   || |  |||||   | | | | |  |   |   | |  ||  \\---+--+++++-+--+---+++++++-+--+--+-+/  | | | | | ||  |
   |  || \\+-++++--+-+------++++-----++++---+-+++-+---++-+--+++++---+-+-+-+-+--+---+---+-+--++------+--++/|| |  |   |\\+++++-+--+--+-+---+-+-+-+-+-/|  |
   \\--++--+-++++--+-+------+/||     ||||   | ||| |   || |  |||||   | | | | |  |   |   | |  ||      |  || || |  |   | ||||| |  |  | |   | | | | |  |  |
      ||  | ||||  | |      | ||     ||||   | ||| \\---++-+--+++++---+-+-+-+-+--+---+---+-+--++------+--+/ || |  |   | |\\+++-+--+--+-+---+-+-+-+-/  |  |
      ||  | ||||  | |      | |\\>----++++---+-+++-----/| |  |||||   | | | | |  |   |   | |  ||      |  |  || |  |   | | ||| |  \\--+-+---+-+-/ |    |  |
      ||  | ||||  | |      | |      ||||   | |||      \\-+--++++/   |/+-+-+-+--+---+---+-+--++---\\  |  |  || |  |   | | ||| |     | |   | |   |    |  |
      ||  | ||||  | |      | |      ||||   | |||        \\--++++----+++-+-/ |  |   |   | |  ||   |  |  |  || |  |   | | ||| |     | |   | |   |    |  |
      |\\--+-++++--+-+------+-+------++++---/ |||           ||||    ||| |   |  |   |   | \\--++---+--+--+--++-+--+---+-+-+++-+-----+-+---+-/   |    |  |
      |   | ||||  | |      | |      ||||     |||           ||||    ^|| |   |  |   |   |    ||   |  |  |  || |  |   | | ||| |     | |   |     |    |  |
      |   \\>++++--+-+------+-/      ||||  /--+++-----------++++----+++-+--\\|  |   |   |    ||   |  |  |  || |  |   | | ||| |     | |   |     |    |  |
      |     ||||  | |      |        ||||  |  |||           ||||    ||| |  |\\--+---+---+----++---+--+--+--/| |  |   | | ||| |     | |   |     |    |  |
      |     ||||  | |      |        ||||  |  \\++-----------++++----+++-+--+---/   |   |    ||   |  |  |   | |  |   | | ||| |     | |   |     |    |  |
      |     |||\\--+-+------+--------++++--+---++-----------++++----+++-+--+-------+---+----++---+--+--/   | |  |   | | ||| |     | |   |     |    |  |
      |     |||   | |      |        ||||  |   ||           ||||    ||| |  |       |   \\----++---+--+------+-+--+---+-+-+++-+-----+-+---+-----+----/  |
      \\-----+++---+-+------/        |\\++--+---++-----------++++----+++-+--+-------+--------++---+--+------+-+--+---+-+-+++-+-----+-+---/     |       |
            |||   | |               | ||  |   ||           ||||    |\\+-+--+-------+--------++---/  |      | |  |   | | ||| |     | |         |       |
            |||   | |               | ||  |   |\\-----------++++----+-+-+--+-------+--------++------+------+-+--+->-+-+-+++-+-----+-/         |       |
            |||   | |               | ||  |   |            ||||    | | |  |       |        |\\------+------+-+--+---+-+-+/| |     |           |       |
 /----------+++---+-+-\\             | ||  |   |            ||||    | \\-+--+-------+--------+-------+------+-/  |   | | | | |     |           |       |
 |          ||\\---+-+-+-------------+-++--+---+------------++++----+---+--+-------+--------+--->---/      |    |   | | | \\-+-----+-----------/       |
 |          ||    | | |             | ||  |   |            ||||    |   |  |       |        \\--------------+----+---+-+-+---+-----+-------------------/
 |          ||    | \\-+-------------/ ||  |   |            ||||    |   |  |       |                       |    |   | | |   |     |                    
 |          ||    \\---+---------------++--+---/            ||||    |   |  |       |                       |    |   | | |   |     |                    
 |          |\\--------+---------------++--+----------------/|||    |   \\--+-------+-----------------------+----+---+-+-/   |     |                    
 |          |         |               ||  |                 |||    |      |       |                       |    \\---+-+-----/     |                    
 |          |         |               ||  \\-----------------+++----+------/       |                       |        | |           |                    
 |          |         |               ||                    |||    \\--------------+-----------------------/        | |           |                    
 |          |         |               ||                    |\\+-------------------+--------------------------------/ |           |                    
 |          |         |               \\+--------------------+-+-------------------+----------------------------------+-----------/                    
 \\----------+---------/                \\--------------------/ \\-------------------/                                  |                                
            \\--------------------------------------------------------------------------------------------------------/                                """

data = [list(x) for x in data.split('\n')]

import itertools

#for each cart: direction (symbol), position (x,y), nextIntersection
carts = []

k = 0
for i in range(len(data)):
	for j in range(len(data[i])):
		if data[i][j] in [">","<","^","v"]:
			carts.append([data[i][j], i, j, "l", k])
			k += 1
		if data[i][j] in [">", "<"]:
			data[i][j] = "-"
		elif data[i][j] in ["^", "v"]:
			data[i][j] = "|"

def nextIntersection(lettre):
	if lettre == "l":
		return "s"
	elif lettre == "s":
		return "r"
	return "l"

def orderCarts(carts):
	return sorted(carts, key=lambda cart: cart[1]*1000+cart[2])
	
def moveCarts(data, carts):
	for cart in carts:
		if cart[0] == ">":
			cart[2] += 1
			if data[cart[1]][cart[2]] == "/":
				cart[0] = "^"
			elif data[cart[1]][cart[2]] == "\\":
				cart[0] = "v"
			elif data[cart[1]][cart[2]] == "+":
				if cart[3] == "l":
					cart[0] = "^"
				elif cart[3] == "r":
					cart[0] = "v"
				cart[3] = nextIntersection(cart[3])
				
		elif cart[0] == "<":
			cart[2] -= 1
			if data[cart[1]][cart[2]] == "/":
				cart[0] = "v"
			elif data[cart[1]][cart[2]] == "\\":
				cart[0] = "^"
			elif data[cart[1]][cart[2]] == "+":
				if cart[3] == "l":
					cart[0] = "v"
				elif cart[3] == "r":
					cart[0] = "^"
				cart[3] = nextIntersection(cart[3])
		
		elif cart[0] == "v":
			cart[1] += 1
			if data[cart[1]][cart[2]] == "/":
				cart[0] = "<"
			elif data[cart[1]][cart[2]] == "\\":
				cart[0] = ">"
			elif data[cart[1]][cart[2]] == "+":
				if cart[3] == "l":
					cart[0] = ">"
				elif cart[3] == "r":
					cart[0] = "<"
				cart[3] = nextIntersection(cart[3])
		
		elif cart[0] == "^":
			cart[1] -= 1
			if data[cart[1]][cart[2]] == "/":
				cart[0] = ">"
			elif data[cart[1]][cart[2]] == "\\":
				cart[0] = "<"
			elif data[cart[1]][cart[2]] == "+":
				if cart[3] == "l":
					cart[0] = "<"
				elif cart[3] == "r":
					cart[0] = ">"
				cart[3] = nextIntersection(cart[3])
		
		if checkCrash(carts):
			print(checkCrash(carts))
			exit()
			
	return carts
	
def checkCrash(carts):
	for a, b in itertools.combinations(carts, 2):
		if a[1] == b[1] and a[2] == b[2]:
			return [a[2], a[1]]
	return False

while True:
	print(carts)
	carts = orderCarts(moveCarts(data, carts))
